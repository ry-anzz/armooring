{% extends "base.twig" %}

{% block title %}Produtos – AR Mooring Solutions{% endblock %}

{% block content %}

<section class="relative bg-gray-50">

  {# HERO #}
  <div class="relative bg-[#00151a] text-white py-16 sm:py-24 px-6 sm:px-12 lg:px-24">
    <div class="max-w-6xl mx-auto text-center" data-aos="fade-up">
      <h1 class="text-3xl sm:text-5xl font-extrabold leading-tight mb-4">Produtos</h1>
      <p class="text-base sm:text-xl leading-relaxed opacity-95">
        Inovação e Qualidade para Suas Operações Marítimas e Logísticas
      </p>
    </div>
  </div>

  {# LISTA DE CATEGORIAS #}
  <div x-data="{ modalOpen: null }" class="max-w-7xl mx-auto px-6 sm:px-12 lg:px-24 py-16 grid sm:grid-cols-2 md:grid-cols-3 gap-8">

    {% set categorias = [
      {
        'id': 'defensas',
        'img': '/assets/defensas.jpg',
        'title': 'Defensas Marítimas',
        'produtos': ['Pneumáticas', 'Retangulares', 'Tipos “V”', 'Cilíndricas', 'Cônicas', 'Celulares', 'Espuma', 'Acessórios']
      },
      {
        'id': 'cabosAmarracao',
        'img': '/assets/cabos-amarracao.jpg',
        'title': 'Cabos de Amarração',
        'produtos': ['Poliéster', 'Poliamida', 'Polietileno', 'Polipropileno', 'HMPE / UHMWPE']
      },
      {
        'id': 'cabosAco',
        'img': '/assets/cabos-aco.jpg',
        'title': 'Cabos de Aço',
        'produtos': ['6 x 19', '6 x 36', 'Rotation Resistant']
      },
      {
        'id': 'correntes',
        'img': '/assets/correntes.jpg',
        'title': 'Correntes e Acessórios',
        'produtos': ['Grau 8', 'Grau 10', 'Grau 100', 'Grau Offshore', 'Acessórios']
      }
    ] %}

    {% for categoria in categorias %}
      <div @click="modalOpen='{{ categoria.id }}'" 
           class="group cursor-pointer bg-white rounded-xl shadow-md overflow-hidden transition hover:-translate-y-1 hover:shadow-lg" 
           data-aos="fade-up" data-aos-delay="{{ loop.index0 * 100 }}">

        <img src="{{ categoria.img }}" alt="{{ categoria.title }}" class="w-full h-48 object-cover">
        <div class="p-6">
          <h3 class="text-xl font-semibold text-gray-900 group-hover:text-[#00151a]">{{ categoria.title }}</h3>
          <p class="text-gray-600 text-sm mt-2">Clique para ver os produtos</p>
        </div>
      </div>

      {# MODAL #}
      <div x-show="modalOpen === '{{ categoria.id }}'" 
           class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" 
           x-transition>
        <div class="bg-white rounded-xl max-w-2xl w-full p-8 relative overflow-y-auto max-h-[90vh]">
          <button @click="modalOpen=null" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800">
            <i class="fa-solid fa-xmark text-2xl"></i>
          </button>
          <img src="{{ categoria.img }}" alt="{{ categoria.title }}" class="w-full h-56 object-cover rounded mb-6">
          <h3 class="text-2xl font-bold text-gray-900 mb-4">{{ categoria.title }}</h3>

          <ul class="grid sm:grid-cols-2 gap-4">
            {% for produto in categoria.produtos %}
              <li class="bg-gray-100 rounded-lg p-4 text-gray-700 font-medium hover:bg-gray-200 transition">
                {{ produto }}
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    {% endfor %}
  </div>
</section>

{# Alpine.js #}
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

{% endblock %}
